## Cellular automaton model of a blooming meadow

Модель состоит из поля ограниченного размера, на котором присутствуют агенты четырех видов: цветки, семена, ульи и пчёлы. Размеры поля, время расчета, количество и расположение ульев и цветков, в том числе и вид цветков, задаются при запуске программы.


На вход программы подаётся **2 аргумента**: путь до txt файла с начальными значениями ([пример файла](https://github.com/Elloquse/cellular-automaton-model-of-a-blooming-meadow/blob/main/src/main/resources/initialData.txt)) и путь до директории, в которую будут сохранены результаты расчета модели в виде файла с названием *simulation_results_{количество максимальных итераций}_days*.


*Time_delta* в файле с начальными значениями позволяет получать статистику по модели каждые *n* итераций. Статистика имеет следующую структуру: 
- Текущая итерация на момент выведения статистики.
- Статистика по цветкам.
- Статистика по каждому улью с указанием координат улья.

Пример статистики: <br>
<img src="https://github.com/Elloquse/cellular-automaton-model-of-a-blooming-meadow/assets/70741822/6788d7fc-4875-4eac-832b-2425e1dbb535" width="150" height="280">

### Схема работы модели: 

**Цветки** характеризуются положением на поле, одним из состояний (семя, проросток, взрослое растение, цветущее растение, плодоносящее растение, мертвое растение), а также видом. Каждое из состояний имеет своё время жизни. Цветущее растение может производить нектар своего вида, а также способно передавать пчелам пыльцу. Плодоносящее даёт семена своего вида. 

**Ульи** характерируются положением на поле, количеством пчел, их максимальным количеством, поколением пчел и нектаром, необходимым для размножения и образования нового поколения. 

**Пчелы** характеризуются принадлежностью к улью, максимальной переносимостью нектара, максимальной дальностью полета, максимально возможным количеством вылетов из улья и текущим положением на поле. 

После чтения файла с начальными значениями инициализируется объект поля на котором поочередно размещаются ульи и цветки. При этом они не могут располагаться на одной клетке. После начинается итеративный процесс в ходе которого сначала происходит итераций цветков и после них ульев и пчел. 

При итерации цветков в зависимости от состояния будут выполняться следующие действия:
- Семя - если возраст растения выше порогового и клетка, на которой находится семя, не занята ульем, а количество семян растений другого вида не превышает количество семян данного, то семя прорастает (=меняет состояние), иначе умирает
- Проросток - после достижения определенного возраста растение меняет состояние до взрослого
- Взрослое - после достижения определенного возраста растение меняет состояние до цветущего
- Цветущее - в этом состоянии растение производит нектар, который собирают пчелы. Также пчела, попавшая на клетку с цветком в данном состоянии получает пыльцу растения данного вида. Если на следующих итерациях пчела попадет на клетку с растением этого же вида, то оно будет опылено и поменяет своё состояние на плодоносящее.
- Плодоносящее - до достижения определенного возраста растение образует случайное количество семян в заданном диапазоне, которые попадают на случайное количество ближайших клеток в радиусе 1.


При итерации ульев будут выполняться следующие действия:


Каждая пчела каждого из ульев, которая не достигла максимально возможного числа вылетов и не достигла максимальной дальности текущего полета, перемещается на одну клетку в случайном направлении. При попадании на цветок, находящийся в цветущем состоянии, пчела собирает пыльцу (случайное количество) и пока не достигнет максимально допустимого объема переносимой пыльцы продолжает движение. После этого пчела возвращается в улей такое количество ходов, которое было затрачено на перемещение до этого. Если количество нектара в улье достаточно для образования нового поколения, то полученный нектар тратится и образуется случайно количество новых пчёл.
